/*
@styleguide

@title Regions

Use regions to place our blocks. The regions will use a gridCSS formula to deal with structure and placement at breakpoints.

<span style="font-weight:bold; font-size:22px;">CSS</span>
*/

main {
  // we are not using grid at mobile since there are no complicated regions to be defined

  @include breakpoint (tablet) {
    display: grid;
    display: -ms-grid;
  }
  
}

//fallbacks for IE mixin
@mixin grid-child ($col-start, $col-end, $row-start, $row-end) {
  -ms-grid-column: $col-start;
  -ms-grid-column-span: $col-end - $col-start;
  -ms-grid-row: $row-start;
  -ms-grid-row-span: $row-end - $row-start;
  grid-column: #{$col-start}/#{$col-end};
  grid-row: #{$row-start}/#{$row-end};
}

//main-container class is left over from the base theme, you can overwrite here
.main-container {
  padding: 0;
}

// define our named region tablet/desktop grid layout
.grid-layout {

  @include breakpoint (tablet) {
    // grid-template-rows: auto;
    grid-template-columns: minmax(0px, 650px) minmax(300px, 1fr);   
    grid-template-areas:   
    "nav nav" 
    "header header" 
    "main-content auxiliary-sidebar"
    "main-content sidebar-right-top"     
    "main-content sidebar-right-bottom" 
    "bottom-content bottom-content";
  }

  @include breakpoint (desktop) {
    grid-template-columns: 1fr auto minmax(0px, 650px) minmax(300px, 1fr) 1fr;   
    grid-template-areas:   
    "nav nav nav nav nav" 
    "... header header header ..." 
    "... auxiliary-sidebar main-content sidebar-right-top ..." 
    "... auxiliary-sidebar main-content sidebar-right-bottom ..." 
    "bottom-content bottom-content bottom-content bottom-content bottom-content";
  }

  // define our grid area namesystem
  // colours toggled for troubleshooting
  .region {
    
      &--nav {
        grid-area: nav;

        //fallbacks for IE
        @include grid-child (1, 6, 1, 1);
        
        // background-color: lightcoral;
      }
        
      &--header {
        grid-area: header;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (1, 2, 2, 2);
        }

        @include breakpoint (desktop) {
          @include grid-child (2, 5, 2, 2);
        }

        // background-color: lightgreen;
      }
    
      &--auxiliary-sidebar {
        grid-area: auxiliary-sidebar;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (2, 2, 3, 3);
        }

        @include breakpoint (desktop) {
          @include grid-child (2, 2, 3, 3);
        }
        
        // background-color: lightgoldenrodyellow;   
      }
      
      &--sidebar-right-top {
        grid-area: sidebar-right-top;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (2, 2, 4, 4);
        }

        @include breakpoint (desktop) {
          @include grid-child (4, 4, 3, 3);
        }

        // background-color: lightcyan; 
      }
      
      &--sidebar-right-bottom {
        // grid-area: sidebar-right-bottom;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (2, 2, 5, 5);
        }

        @include breakpoint (desktop) {
          @include grid-child (4, 4, 4, 4);
        }

        // background-color: lightgrey;    
      }
      
      &--main-content {
        grid-area: main-content;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (1, 1, 3, 6);
        }

        @include breakpoint (desktop) {
          @include grid-child (3, 3, 3, 5);
        }

        // background-color: lightblue; 
      }
      
      &--bottom-content {
        grid-area: bottom-content;

        //fallbacks for IE
        @include breakpoint (tablet) {
          @include grid-child (1, 2, 6, 6);
        }

        @include breakpoint (desktop) {
          @include grid-child (1, 6, 5, 5);
        }

        // background-color: lightseagreen;    
      }
    
    }

  }
