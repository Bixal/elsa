/*
@styleguide

@title Regions

Use regions to place our blocks. The regions will use a gridCSS formula to deal with structure and placement at breakpoints.

<span style="font-weight:bold; font-size:22px;">CSS</span>
*/

main {
  display: grid;
  display: -ms-grid; 
}

//fallbacks for IE mixin
@mixin grid-child ($col-start, $col-end, $row-start, $row-end) {
  -ms-grid-column: $col-start;
  -ms-grid-column-span: $col-end - $col-start;
  -ms-grid-row: $row-start;
  -ms-grid-row-span: $row-end - $row-start;
  grid-column: #{$col-start}/#{$col-end};
  grid-row: #{$row-start}/#{$row-end};
}

//main-container class is left over from the base theme, you can overwrite here
.main-container {
  padding: 0;
}

// define our named region tablet/desktop grid layout
.grid-layout {
  grid-template-columns: 1fr;   
  grid-template-areas:    
  "header" 
  "main-content"
  "auxiliary-sidebar"
  "sidebar-right-top"
  "bottom-content"
  "nav";

  @include breakpoint (tablet) {
    grid-template-columns: minmax(450px, 650px) minmax(250px, 1fr);   
    grid-template-areas:   
    "nav nav" 
    "header header" 
    "main-content auxiliary-sidebar"
    "main-content sidebar-right-top"     
    "bottom-content bottom-content";
  }

  @include breakpoint (desktop) {
    grid-template-columns: 1fr auto minmax(450px, 650px) minmax(250px, 1fr) 1fr;   
    grid-template-areas:   
    "nav nav nav nav nav" 
    "... header header header ..." 
    "... auxiliary-sidebar main-content sidebar-right-top ..." 
    "bottom-content bottom-content bottom-content bottom-content bottom-content";
  }

  // define our grid area namesystem
  // colours toggled for troubleshooting
  .region {
      // ($col-start, $col-end, $row-start, $row-end)
      &--nav {
        grid-area: nav;
        //fallbacks for IE
        @include grid-child (1, 2, 6, 7);

        @include breakpoint (tablet) {
          @include grid-child (1, 3, 1, 2);
        }

        @include breakpoint (desktop) {
          @include grid-child (1, 7, 1, 2);
        }
        // background-color: lightcoral;
      }
      // ($col-start, $col-end, $row-start, $row-end)         
      &--header {
        grid-area: header;
        //fallbacks for IE
        @include grid-child (1, 2, 1, 2)

        @include breakpoint (tablet) {
          @include grid-child (1, 3, 2, 3);
        }

        @include breakpoint (desktop) {
          @include grid-child (2, 5, 2, 3);
        }

        // background-color: lightgreen;
      }
      // ($col-start, $col-end, $row-start, $row-end)     
      &--auxiliary-sidebar {
        grid-area: auxiliary-sidebar;
        //fallbacks for IE
        @include grid-child (1, 2, 3, 4);

        @include breakpoint (tablet) {
          @include grid-child (2, 3, 3, 4);
        }

        @include breakpoint (desktop) {
          @include grid-child (2, 3, 3, 4);
        }
        
        // background-color: lightgoldenrodyellow;
      }
      // ($col-start, $col-end, $row-start, $row-end)      
      &--sidebar-right-top {
        grid-area: sidebar-right-top;
        //fallbacks for IE
        @include grid-child (1, 2, 4, 5);

        @include breakpoint (tablet) {
          @include grid-child (2, 3, 4, 5);
        }

        @include breakpoint (desktop) {
          @include grid-child (4, 5, 3, 4);
        }

        // background-color: lightcyan; 
      }
      // ($col-start, $col-end, $row-start, $row-end) 
      &--main-content {
        grid-area: main-content;
        //fallbacks for IE
        @include grid-child (1, 2, 2, 3);

        @include breakpoint (tablet) {
          @include grid-child (1, 2, 3, 6);
        }

        @include breakpoint (desktop) {
          @include grid-child (3, 4, 3, 5);
        }

        // background-color: lightblue; 
      }
      // ($col-start, $col-end, $row-start, $row-end)      
      &--bottom-content {
        grid-area: bottom-content;
        //fallbacks for IE
        @include grid-child (1, 2, 5, 6);

        @include breakpoint (tablet) {
          @include grid-child (1, 3, 6, 7);
        }

        @include breakpoint (desktop) {
          @include grid-child (1, 7, 5, 6);
        }

        // background-color: lightseagreen;    
      }
    
    }

  }
